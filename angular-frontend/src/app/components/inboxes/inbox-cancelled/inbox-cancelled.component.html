<div *ngIf="allOrders > 0" class="custom">
  <div *ngFor="let order of orders | paginate: {itemsPerPage: size, currentPage: page, totalItems: allOrders}; let i = index">
    <details *ngIf="order.user.id != auth.uid">
      <summary>
        <b>{{ order.createdAt | date: 'dd/MM/yyyy HH:mm:ss' }} - (State: <span style="color: brown;">{{ order.state }}</span>)</b>
      </summary>
      <div class="table-responsive" *ngIf="order.state == 'Working'">
        <table class="table table-bordered table-striped">
          <thead class="thead-dark">
            <tr>
              <th>Title</th>
              <th>Author</th>
              <th>Quantity</th>
              <th>Price</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let ele of ordersDetails[order.id]?.orders">
              <td>
                <div style="position: relative;">
                  <div style="position: relative; display: inline-block;">
                    <img src="data:image/jpeg;base64,{{ ele.book.picByte }}" />
                    <label class="bookName">{{ ele.book.name }}</label>
                  </div>
                </div>
              </td>
              <td>{{ ele.book.author }}</td>
              <td>{{ ele.quantity }}</td>
              <td>{{ ele.book.price | currency:'USD' }}</td>
            </tr>
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td>Total: {{ ordersDetails[order.id]?.total | currency:'USD' }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </details>
  </div>
</div>
