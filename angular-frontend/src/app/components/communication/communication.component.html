<div class="custom" style="background-image: url('https://i.pinimg.com/originals/a6/87/d4/a687d494858486eca0fbce951a324794.png');">
  
  <h1 style="margin-left: 10px;">Inbox</h1>

  <table mat-table [dataSource]="emailData" style="margin-top: 20px; max-width: 96%; margin-left: 2%;" >
    <ng-container matColumnDef="from">
      <th mat-header-cell *matHeaderCellDef>From</th>
      <td mat-cell *matCellDef="let email">{{ email.from.email }}</td>
    </ng-container>
  
    <ng-container matColumnDef="to">
      <th mat-header-cell *matHeaderCellDef>To</th>
      <td mat-cell *matCellDef="let email">{{ email.to.email }}</td>
    </ng-container>
  
    <ng-container matColumnDef="subject">
      <th mat-header-cell *matHeaderCellDef>Subject</th>
      <td mat-cell *matCellDef="let email">{{ email.subject }}</td>
    </ng-container>
  
    <ng-container matColumnDef="sendedAt">
      <th mat-header-cell *matHeaderCellDef>Sent At</th>
      <td mat-cell *matCellDef="let email">{{ email.sendedAt | date:'yyyy-MM-dd HH:mm:ss' }}</td>
    </ng-container>

    <ng-container matColumnDef="viewOrder">
      <th mat-header-cell *matHeaderCellDef>View Order</th>
      <td mat-cell *matCellDef="let email"><a href="/order?id={{email.order.id}}">#{{ email.order.id }}</a></td>
    </ng-container>
  
    <ng-container matColumnDef="body">
      <th mat-header-cell *matHeaderCellDef>Body</th>
      <td mat-cell *matCellDef="let email">
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
             Messagge:
            </mat-panel-title>
          </mat-expansion-panel-header>
          <p>{{ email.body }}</p>
        </mat-expansion-panel>
      </td>
    </ng-container>

    <!-- Header and row definition -->
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <p *ngIf='msg' [innerHTML]="msg" class="paragraph"></p>
</div>
